<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | K8s Vault Webhook</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A k8s vault webhook is a Kubernetes webhook that can inject secrets into Kubernetes resources by connecting to multiple secret managers">
    <meta name="theme-color" content="#0065b3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/k8s-vault-webhook/assets/css/0.styles.8ed90290.css" as="style"><link rel="preload" href="/k8s-vault-webhook/assets/js/app.c939a963.js" as="script"><link rel="preload" href="/k8s-vault-webhook/assets/js/2.6c38eae8.js" as="script"><link rel="preload" href="/k8s-vault-webhook/assets/js/26.cc822b6a.js" as="script"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/10.c840c7b1.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/11.8fb27e0e.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/12.77037595.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/13.9fe5d90d.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/14.860e5b0c.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/15.3731b47a.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/16.5294063c.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/17.fffb67e5.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/18.832f9474.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/19.12313aa9.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/20.e14c9764.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/21.c55d9ba7.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/22.4e9c231a.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/23.3ca3b21d.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/24.9fd116f0.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/25.99cd2403.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/27.f891686c.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/28.025c4927.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/3.c2637289.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/4.771bb67c.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/5.f8a3acab.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/6.e15564aa.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/7.e0224de3.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/8.d1cebee9.js"><link rel="prefetch" href="/k8s-vault-webhook/assets/js/9.9a667c70.js">
    <link rel="stylesheet" href="/k8s-vault-webhook/assets/css/0.styles.8ed90290.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/k8s-vault-webhook/" class="home-link router-link-active"><!----> <span class="site-name">K8s Vault Webhook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/k8s-vault-webhook/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://opstree.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpsTree
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OT-CONTAINER-KIT/k8s-vault-webhook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/k8s-vault-webhook/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://opstree.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpsTree
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OT-CONTAINER-KIT/k8s-vault-webhook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/k8s-vault-webhook/guide/secret-manager.html" class="sidebar-link">Secret Manager</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/installation.html" aria-current="page" class="active sidebar-link">Installation</a></li><li><a href="/k8s-vault-webhook/guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/k8s-vault-webhook/guide/annotations.html" class="sidebar-link">Annotations</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Integration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/hashicorp-vault.html" class="sidebar-link">Hashicorp Vault</a></li><li><a href="/k8s-vault-webhook/guide/aws-secret-manager.html" class="sidebar-link">AWS Secret Manager</a></li><li><a href="/k8s-vault-webhook/guide/azure-integration.html" class="sidebar-link">Azure Key Vault</a></li><li><a href="/k8s-vault-webhook/guide/gcp-secret-manager.html" class="sidebar-link">GCP Secret Manager</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Examples</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/hashicorp-vault-example.html" class="sidebar-link">Hashicorp Vault</a></li><li><a href="/k8s-vault-webhook/guide/aws-secret-manager-example.html" class="sidebar-link">AWS Secret Manager</a></li><li><a href="/k8s-vault-webhook/guide/azure-examples.html" class="sidebar-link">Azure Key Vault</a></li><li><a href="/k8s-vault-webhook/guide/gcp-secret-manager-example.html" class="sidebar-link">GCP Secret Manager</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/development.html" class="sidebar-link">Development Guide</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Changelog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/k8s-vault-webhook/guide/changelog.html" class="sidebar-link">v4.0</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h1> <p>K8s Vault Webhook is a golang based binary that is packaged as a Docker image and needs to be deployed inside the Kubernetes cluster. It cannot be deployed outside the Kubernetes cluster because of Kubernetes architecture dependency. It uses the concept of Admission Webhook and if you want to explore the concept of admission webhook please refer to <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">official documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>k8s-vault-webhook can easily get installed by using <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> . We just simple need to add the repository of our <a href="https://github.com/OT-CONTAINER-KIT/helm-charts" target="_blank" rel="noopener noreferrer">helm charts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It requires <code>=&gt;3.0.0</code> version of helm.</p> <p>First we need to add the repository for helm.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ helm repo <span class="token function">add</span> ot-helm https://ot-container-kit.github.io/helm-charts
<span class="token punctuation">..</span>.
<span class="token string">&quot;ot-helm&quot;</span> has been added to your repositories
</code></pre></div><p>Once the repo is added, we can install the k8s-vault-webhook.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ helm upgrade k8s-vault-webhook ot-helm/k8s-vault-webhook <span class="token punctuation">\</span>
    --namespace vault --install
<span class="token punctuation">..</span>.
Release <span class="token string">&quot;k8s-vault-webhook&quot;</span> has been upgraded. Happy Helming<span class="token operator">!</span>
NAME: k8s-vault-webhook
LAST DEPLOYED: Mon May  <span class="token number">3</span> <span class="token number">19</span>:55:03 <span class="token number">2021</span>
NAMESPACE: vault
STATUS: deployed
REVISION: <span class="token number">2</span>
TEST SUITE: None
</code></pre></div><p>Verify the deployment is successful by listing pods of k8s-vault-webhook.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ kubectl get pods -n vault
<span class="token punctuation">..</span>.
NAME                                 READY   STATUS    RESTARTS   AGE
k8s-vault-webhook-6cf98dbd6f-5gjvv   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          61s
k8s-vault-webhook-6cf98dbd6f-tjdv5   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          48s
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/k8s-vault-webhook/guide/secret-manager.html" class="prev">
        Secret Manager
      </a></span> <span class="next"><a href="/k8s-vault-webhook/guide/configuration.html">
        Configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/k8s-vault-webhook/assets/js/app.c939a963.js" defer></script><script src="/k8s-vault-webhook/assets/js/2.6c38eae8.js" defer></script><script src="/k8s-vault-webhook/assets/js/26.cc822b6a.js" defer></script>
  </body>
</html>
