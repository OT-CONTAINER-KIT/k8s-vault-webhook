(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{378:function(t,e,a){"use strict";a.r(e);var r=a(45),v=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"annotations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#annotations"}},[t._v("#")]),t._v(" Annotations")]),t._v(" "),a("p",[t._v("This section of document contains the information about Kubernetes annotation which will be used for Webhook mutation.\nBased on these annotations, the secrets will be mutated.")]),t._v(" "),a("p",[t._v("The annotations which are currently supported:-")]),t._v(" "),a("ul",[a("li",[a("strong",[a("a",{attrs:{href:"https://www.vaultproject.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hashicorp Vault"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("strong",[a("a",{attrs:{href:"https://aws.amazon.com/secrets-manager/",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Secret Manager"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("strong",[a("a",{attrs:{href:"https://azure.microsoft.com/en-in/services/key-vault/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Azure Key Vault"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[t._v("There are some other annotations which are planned to be implemented in future.")]),t._v(" "),a("ul",[a("li",[a("strong",[a("a",{attrs:{href:"https://cloud.google.com/secret-manager",target:"_blank",rel:"noopener noreferrer"}},[t._v("GCP Secret Manager"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"vault-annotations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vault-annotations"}},[t._v("#")]),t._v(" Vault Annotations")]),t._v(" "),a("p",[t._v("The available annotations for k8s vault webhook are:-")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("Name")])]),t._v(" "),a("th",[a("strong",[t._v("Description")])]),t._v(" "),a("th",[a("strong",[t._v("Required")])]),t._v(" "),a("th",[a("strong",[t._v("Default")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/enabled")])]),t._v(" "),a("td",[t._v("Enables the vault secret manager")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("false")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/service")])]),t._v(" "),a("td",[t._v("Vault cluster address with http prefix")]),t._v(" "),a("td",[t._v("yes")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/tls-secret")])]),t._v(" "),a("td",[t._v("Vault TLS secret name if vault is configured on TLS")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/role")])]),t._v(" "),a("td",[t._v("Vault role created with Kubernetes serviceaccount")]),t._v(" "),a("td",[t._v("yes")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/path")])]),t._v(" "),a("td",[t._v("Path of the secret in vault")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/k8s-token-path")])]),t._v(" "),a("td",[t._v("Alternate kubernetes service account token path")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td",[a("code",[t._v("/var/run/secrets/kubernetes.io/serviceaccount/token")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/path")])]),t._v(" "),a("td",[t._v("Vault secret path")]),t._v(" "),a("td",[t._v("Yes")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/secret-version")])]),t._v(" "),a("td",[t._v("Vault secret version (if using v2 secret engine)")]),t._v(" "),a("td",[t._v("Yes")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/use-secret-names-as-keys")])]),t._v(" "),a("td",[t._v("treat secret path ending with / as directory where secret name is the key and a single value in each")]),t._v(" "),a("td",[t._v("No")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vault.opstree.secret.manager/auth-path")])]),t._v(" "),a("td",[t._v("alternate kubernetes backend auth path")]),t._v(" "),a("td",[t._v("No")]),t._v(" "),a("td",[a("code",[t._v("auth/kubernetes/login")])])])])]),t._v(" "),a("h2",{attrs:{id:"aws-annotations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-annotations"}},[t._v("#")]),t._v(" AWS Annotations")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("Name")])]),t._v(" "),a("th",[a("strong",[t._v("Description")])]),t._v(" "),a("th",[a("strong",[t._v("Required")])]),t._v(" "),a("th",[a("strong",[t._v("Default")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("aws.secret.manager/enabled")])]),t._v(" "),a("td",[t._v("Enable the AWS secret manager")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("false")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("aws.secret.manager/region")])]),t._v(" "),a("td",[t._v("AWS secret manager region")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td",[t._v("us-east-1")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("aws.secret.manager/role-arn")])]),t._v(" "),a("td",[t._v("AWS IAM Role to access the secret")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("aws.secret.manager/secret-name")])]),t._v(" "),a("td",[t._v("Name of the AWS secret")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("aws.secret.manager/previous-version")])]),t._v(" "),a("td",[t._v('If the secret is rotated, set to "true"')]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"azure-annotations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#azure-annotations"}},[t._v("#")]),t._v(" Azure Annotations")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("Name")])]),t._v(" "),a("th",[a("strong",[t._v("Description")])]),t._v(" "),a("th",[a("strong",[t._v("Required")])]),t._v(" "),a("th",[a("strong",[t._v("Default")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("azure.secret.manager/enabled")])]),t._v(" "),a("td",[t._v("Enable the Azure Key Vault")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("false")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("azure.secret.manager/vault-name")])]),t._v(" "),a("td",[t._v("Name of the Azure Key Vault in which secrets are held")]),t._v(" "),a("td",[t._v("no")]),t._v(" "),a("td",[t._v("test-secret")])])])])])}),[],!1,null,null,null);e.default=v.exports}}]);